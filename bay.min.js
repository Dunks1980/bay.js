var __awaiter=this&&this.__awaiter||function(e,t,n,i){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){e.done?n(e.value):r(e.value).then(o,s)}l((i=i.apply(e,t||[])).next())})};const bay=e=>{"use strict";function t(e){return"string"==typeof e?(Z.textContent=e,Z.innerHTML.replaceAll('"',"&quot;").replaceAll("'","&#39;")):e}function n(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}function i(e,t){const n={detail:{name:e,data:t}};window.dispatchEvent(new CustomEvent("bay_emit",n)),window.dispatchEvent(new CustomEvent(e,n))}function r(e,t,n,i){const r=[...B(e,`[${K}${n}]`),...B(t,`[${K}${n}]`),...B(document,`[${K}${n}]`)];r.forEach(e=>{e.dispatchEvent(new CustomEvent(n,{detail:{name:n,data:i}}))})}function a(e,n){return new Proxy(e,{get:(e,i)=>"set"===i?function(i,r){return e.set(i,t(r)),n&&n(),e}:["get","has","delete","clear"].includes(i)?function(...t){return e[i].apply(e,t)}:e[i]})}function o(e,n){return new Proxy(e,{get:(e,i)=>"set"===i?function(i,r){return e.set(i,t(r)),n&&n(),e}:["get","has","delete"].includes(i)?function(...t){return e[i].apply(e,t)}:e[i]})}function s(e,n){return new Proxy(e,{get:(e,i)=>"add"===i?function(i){return e.add(t(i)),n&&n(),e}:["has","delete","clear"].includes(i)?function(...t){return e[i].apply(e,t)}:e[i]})}function l(e,n){return new Proxy(e,{get:(e,i)=>"add"===i?function(i){return e.add(t(i)),n&&n(),e}:["has","delete"].includes(i)?function(...t){return e[i].apply(e,t)}:e[i]})}function c(e,n){return new Proxy(e,{get(e,t){if("isProxy"===t)return!0;const i=e[t];return void 0===i?"":null!==i?(i.isProxy||"object"!=typeof i||(i instanceof Map?e[t]=a(i,n):i instanceof WeakMap?e[t]=o(i,n):i instanceof Set?e[t]=s(i,n):i instanceof WeakSet?e[t]=l(i,n):e[t]=c(i,n)),e[t]):void 0},set:(e,i,r)=>(e[i]=t(r),n&&n(),!0)})}function d(){Object.entries(window.location).forEach(e=>{window.bay.route[`${e[0]}`]=e[1]}),window.bay.route.path=window.location.pathname,window.bay.route.params={};const e=new URLSearchParams(window.location.search);for(let[t,n]of e)window.bay.route.params[t]=n}function u(e){const t=()=>([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16));return t().replaceAll("-","").substring(0,e)}function h(e){[...document.querySelectorAll("[bay-hydrate]")].forEach((e,t)=>{e.id="bay-hydrate-"+t;let n=e.querySelector("template").innerHTML,i=document.createElement("bay-hydrate-"+t);i.setAttribute("inner-html","#bay-hydrate-"+t),document.body.appendChild(i),window.bay.create("bay-hydrate-"+t,"<inner-html>"+n+"</inner-html>")}),[...B(e,"[bay]")].forEach((e,t)=>{"dsd"===e.getAttribute("bay")&&e.setAttribute("bay",`dsd-${t}`),-1===z.indexOf(e.getAttribute("bay")||"")&&z.push(e)}),z.forEach(e=>{-1===G.indexOf(e.getAttribute("bay"))&&f(e),G.push(e.getAttribute("bay"))})}function b(t){return e?(Object.entries(e).forEach(([e,n])=>{if("string"==typeof n){let i=`%{${e}}`;t=t.replaceAll(i,n)}}),t):t}function p(e){return e=e.replace(/<template(.*?)>/g,"<!--<template$1>-->").replace(/<\/template>/g,"<!--</template>-->"),e}function w(e,t){const n=[...e.querySelectorAll("include")];n.forEach(e=>{const n=e.attributes[0];n&&n.value&&fetch(n.value).then(e=>{if(!e.ok)throw new Error(`HTTP error ${e.status}: ${e.statusText}`);return e.text()}).then(n=>{for(n=p(n);n.indexOf("<style>")>-1;){const e=n.split("<style>")[1].split("</style>")[0];n=n.replaceAll(`<style>${e}</style>`,""),X+=e}n=n.replaceAll(/<!--[\s\S]*?-->/g,""),e.outerHTML=n,t()}).catch(e=>{console.error("Error fetching:",e)})})}function y(e,t,n){function i(){o&&0===[...o.querySelectorAll("include")].length&&(customElements.get(n)||F(o,n,$(t),X,!1))}const r=new DOMParser,a="export default /*HTML*/`";let o;for(e=e.replaceAll(/<!--[\s\S]*?-->/g,""),e=b(e),X="",e.startsWith(a)&&(e=e.trim(),e=e.split(a)[1],e=e.substring(0,e.length-2),e=e.replaceAll("\\${","${").replaceAll("\\`","`"));e.indexOf("<style>")>-1;){const t=e.split("<style>")[1].split("</style>")[0];e=e.replaceAll(`<style>${t}</style>`,""),X+=t}e='<div id="bay-temporary-compile-element"></div>'+e,o=r.parseFromString(e,"text/html"),o.getElementById("bay-temporary-compile-element").remove(),w(o,i),i()}function m(e,t,n){function i(){o&&0===[...o.querySelectorAll("include")].length&&(customElements.get(e.toLowerCase())||F(o,e.toLowerCase(),a,X,!0))}const r=new DOMParser,a=n||[];for(t=p(t),t=t.replaceAll(/<!--[\s\S]*?-->/g,""),t=b(t),X="";t.indexOf("<style>")>-1;){const e=t.split("<style>")[1].split("</style>")[0];t=t.replaceAll(`<style>${e}</style>`,""),X+=e}t='<div id="bay-temporary-compile-element"></div>'+t;let o=r.parseFromString(t,"text/html");o.getElementById("bay-temporary-compile-element").remove(),w(o,i),i()}function f(e){try{const t=e.getAttribute("bay")||"";let i=e.tagName.toLowerCase();if("template"===i)y(n(e.innerHTML),e,t),e.remove();else if("dsd-"===t.substring(0,4))V=t,e.shadowRoot?y(n(e.shadowRoot.innerHTML),e,i):(y(n(B(e,"template")[0].innerHTML),e,i),B(e,"template")[0].remove());else if("#"===t.substring(0,1)){V=t;const n=B(document,t)[0];if(!n)return void console.error(`Bay cannot find "${t}" selector.`);y(n.innerHTML,e,i),n.remove()}else fetch(t).then(e=>e.text()).then(t=>{t=p(t),y(t,e,i)}).catch(e=>{console.error("Error:",e)})}catch(e){console.error(e)}}function $(e){let t=[];const n=e=>{"bay"!==e.name&&"inner-html"!==e.name&&"fouc"!==e.name&&-1===t.indexOf(e.name)&&t.push(e.name)};return[...e.attributes].forEach(e=>n(e)),[...B(document,e.tagName.toLocaleLowerCase())].forEach(e=>{const t=[...e.attributes];t.forEach(e=>n(e))}),[...B(document,"template")].forEach(t=>{[...B(t.content,e.tagName.toLocaleLowerCase())].forEach(e=>{const t=[...e.attributes];t.forEach(e=>n(e))})}),t}function v(e,t){e.forEach((e,n)=>{const i=t[n].isEqualNode(e);if(!i&&t[n]&&R(e,t[n]),!e.hasAttribute(`${K}style`)&&!e.hasAttribute("style")){const e=t[n].style.width,i=t[n].style.height;t[n].removeAttribute("style"),e&&(t[n].style.width=e),i&&(t[n].style.height=i)}})}function g(e,t){[...B(e,"*")].map((e,t)=>{if(e.tagName.indexOf("-")>-1){let t=""+e.textContent.trim()+e.innerHTML.trim();!t&&e.setAttribute("no-diff",!0)}}),[...B(e,"[no-diff]")].map((e,n)=>{[...B(t,"[no-diff]")][n]&&(e.innerHTML=[...B(t,"[no-diff]")][n].innerHTML)})}function A(e,t){if(!t)return;if("function"!=typeof window.bay[e].inner_html)return;window.bay[e].template();const n=H(window.bay[e].inner_html());g(n,t),O(n,t),v([...B(n,"*")],[...B(t,"*")])}function E(e,t){const n=H(window.bay[e].template());g(n,t),O(n,t),v([...B(n,"*")],[...B(t,"*")])}function _(e,t,n,i,r){t&&(e.newEvents="",t.forEach((t,n)=>{[...t.attributes].forEach(i=>L(e,i,t,n,r))}),e.newEvents&&e.oldEvents!==e.newEvents&&(e.oldEvents=e.newEvents,q(e,e.newEvents,n,i)))}function x(e){const t=window.bay[e.uniqid].styles();if(e.oldStyles!==t)if(e.oldStyles=t,e.hasAdopted)e.sheet.replaceSync(t);else{const n=new Blob([t],{type:"text/css"}),i=URL.createObjectURL(n);e.styleLinkUpdate.href=i,URL.revokeObjectURL(i)}}function L(e,t,n,i,r){if(!n.closest(`[${r}]`))return;let a=t.name;if(a.startsWith(":")){let e=a.split(":")[1];a=a.replace(`:${e}`,`${K}${e}`)}if(a.indexOf(K)>-1){let r=a.indexOf("-custom-")>-1;if(r&&(a=a.replace("custom-","")),a.indexOf(K+"style")>-1)n.style!==t.value&&(n.style=t.value);else{let r=t.value.replaceAll("window.bay",`${I}`);-1===e.newEvents.indexOf(I+".events=new Map();\n")&&(e.newEvents+=I+".events=new Map();\n");let o={};Y.forEach(e=>{if(-1!==a.indexOf(e))switch(e){case".passive":o.passive=!0;break;case".capture":o.capture=!0;break;case".once":o.once=!0;break;case".enter":r="if (e.key !== 'Enter') return;"+r;break;case".tab":r="if (e.key !== 'Tab') return;"+r;break;case".delete":r="if (e.key !== 'Delete') return;"+r;break;case".backspace":r="if (e.key !== 'Backspace') return;"+r;break;case".esc":r="if (e.key !== 'Escape' && e.key !== 'Esc') return;"+r;break;case".space":r="if (e.key !== ' ' && e.key !== 'Spacebar') return;"+r;break;case".arrow-up":r="if (e.key !== 'ArrowUp') return;"+r;break;case".arrow-down":r="if (e.key !== 'ArrowDown') return;"+r;break;case".arrow-left":r="if (e.key !== 'ArrowLeft') return;"+r;break;case".arrow-right":r="if (e.key !== 'ArrowRight') return;"+r;break;case".ctrl":r="if (!e.ctrlKey) return;"+r;break;case".alt":r="if (!e.altKey) return;"+r;break;case".shift":r="if (!e.shiftKey) return;"+r;break;case".meta":r="if (!e.metaKey) return;"+r;break;case".self":r="if (e.target !== e.currentTarget) return;"+r;break;case".left":r="if (e.button !== 0) return;"+r;break;case".middle":r="if (e.button !== 1) return;"+r;break;case".right":r="if (e.button !== 2) return;"+r;break;case".stop":r="e.stopPropagation();"+r;break;case".prevent":r="e.preventDefault();"+r}}),e.newEvents+=`${I}.events.set('${a}-${i}',(e)=>{${r}});\n`;const s=`${e.uniqid}${i}${a}`;let l=a.split(K)[1];Y.forEach(e=>{l=l.replace(e,"")}),e.eventHandlers.has(s)&&(n.removeEventListener(l,e.eventHandlers.get(s),o),e.eventHandlers.delete(s)),e.eventHandlers.set(s,t=>{window.bay[e.uniqid].events&&window.bay[e.uniqid].events.has(`${a}-${i}`)&&window.bay[e.uniqid].events.get(`${a}-${i}`)(t)}),n.addEventListener(l,e.eventHandlers.get(s),o)}}}function k(e){e.debouncer&&window.cancelAnimationFrame(e.debouncer),e.debouncer=window.requestAnimationFrame(()=>{e.render()})}function q(e,t,n,i){return __awaiter(this,void 0,void 0,function*(){const r=URL.createObjectURL(new Blob([`${n}export default function($bay,$global,$route,$el,$parent,$bay_select_bind,$ref){"use strict";\n${t}};`],{type:"text/javascript"})),a=yield import(r);a.default.call(window.bay[e.uniqid].proxy,window.bay[e.uniqid],window.bay.global,window.bay.route,window.bay[e.uniqid].$el,window.bay[i]?window.bay[i].proxy:null,window.bay.apply_select,window.bay[e.uniqid].refs),URL.revokeObjectURL(r)})}function T(e,t,n,i,r,a){return __awaiter(this,void 0,void 0,function*(){if(Q.has(n))yield import(Q.get(n)).then(t=>{t.default.call(window.bay[e.uniqid].proxy,e.uniqid,window.bay[e.uniqid],window.bay.global,window.bay.route,window.bay[e.uniqid].$el,window.bay[r]?window.bay[r].proxy:null,window.bay[e.uniqid].refs),M(e)});else{const o=URL.createObjectURL(new Blob([`${a}export default function ($bay_uniqid,$bay,$global,$route,$el,$parent,$ref) {"use strict";\n${i}};`],{type:"text/javascript"}));Q.set(n,o),yield import(o).then(n=>{n.default.call(window.bay[e.uniqid].proxy,e.uniqid,window.bay[e.uniqid],window.bay.global,window.bay.route,window.bay[e.uniqid].$el,window.bay[r]?window.bay[r].proxy:null,window.bay[e.uniqid].refs),M(e),t&&URL.revokeObjectURL(o)})}})}function M(e){e.dsd||(e.tmp=window.bay[e.uniqid].template(),e.shadowDom.getElementById("bay").innerHTML=e.tmp),k(e),e.CSP?e.shadowDom.innerHTML="CSP issue, add blob: to script-src & style-src whitelist.":B(e.shadowDom,"[bay]")[0]&&h(e.shadowDom)}function H(e){const t=new DOMParser,n=t.parseFromString(e,"text/html");return n.body}function S(e){return 3===e.nodeType?"text":8===e.nodeType?"comment":e.tagName.toLowerCase()}function C(e){return e.childNodes&&e.childNodes.length>0?null:e.textContent}function O(e,t){const n=[...t.childNodes],i=[...e.childNodes];let r=n.length-i.length;if(r>0)for(;r>0;r--)n[n.length-r].parentNode.removeChild(n[n.length-r]);i.forEach((e,i)=>{if(!n[i])return void t.appendChild(e.cloneNode(!0));if(S(e)!==S(n[i])){try{n[i].parentNode.replaceChild(e.cloneNode(!0),n[i])}catch(e){}return}const r=C(e);if(r&&r!==C(n[i])&&(n[i].textContent=r),n[i].childNodes.length>0&&e.childNodes.length<1)n[i].innerHTML="";else{if(n[i].childNodes.length<1&&e.childNodes.length>0){const t=document.createDocumentFragment();return O(e,t),void n[i].appendChild(t)}e.childNodes.length>0&&O(e,n[i])}})}function N(e,t){return void 0!==e[t]&&"object"!=typeof e[t]}function D(e,t){if("src"===t||"href"===t)return!1;const n=document.createElement(e);return n.setAttribute(t,"test_value"),"boolean"==typeof n[t]}function R(e,t){[...t.attributes].forEach(n=>{"style"!==n.name&&(e.hasAttribute(n.name)||(t.removeAttribute(n.nodeName),N(t,n.nodeName)&&delete t[n.nodeName]))}),[...e.attributes].forEach(e=>{t.hasAttribute(e.nodeName)&&t.getAttribute(e.nodeName)===e.value||t.setAttribute(e.nodeName,e.value),N(t,e.nodeName)&&t[e.nodeName]!==e.value&&(t[e.nodeName]=e.value)})}function j(e){for(;e.attributes.length>0;)e.removeAttribute(e.attributes[0].name)}function P(e){[...e.querySelectorAll("define")].forEach(t=>{const n=t.getAttribute("this"),i=t.outerHTML;t.remove();const r=[...e.querySelectorAll(n)];r.forEach(e=>{e.outerHTML=i})})}function U(e){[...e.querySelectorAll("define")].forEach(e=>{e.outerHTML=e.innerHTML})}function F(e,i,r,a,o){let s="",l=`data-${u(8)}`,b=null,p="",w="",y=[],m=!1,f=!1,$=!1,v=!1,g=!1,L=!1,q=[];try{const t="*:not(:defined){opacity:0;max-width:0px;max-height:0px}*:not(:defined)*{opacity:0;max-width:0px;max-height:0px}.bay-hide{display:none}";a=t+(a||""),b=e.body,P(b),s=i;const n=document.createElement(`${i}-update`);b.appendChild(n),(b.innerHTML.indexOf("$global.")>-1||b.innerHTML.indexOf("$global[")>-1)&&(m=!0),(b.innerHTML.indexOf("$route.")>-1||b.innerHTML.indexOf("$route[")>-1||b.innerHTML.indexOf("</router>")>-1||b.innerHTML.indexOf("</route>")>-1||b.innerHTML.indexOf("$bay.update_route")>-1)&&(f=!0),b.innerHTML.indexOf("</route>")>-1&&(a=(a||"")+"[bay-route]>*{pointer-events:none}"),b.innerHTML.indexOf("$prop")>-1&&($=!0),b.innerHTML.indexOf("$bay.on(")>-1&&(L=!0),b.innerHTML.indexOf("</show>")>-1&&bay.create(`show-${ne}`,ie,["open","transition"]);const o="element, index, array";let c="";const d=(e,t)=>{const n=B(e,t)[0];if(!n){const n=e.getAttribute("array")||[],i=e.getAttribute("params")||o,r=e.getAttribute("join")||"",a=e.getAttribute("duration")||!1,s=[...e.attributes][0]?[...e.attributes][0].nodeValue:"",l=e.nextElementSibling?e.nextElementSibling.tagName.toLowerCase():"";let d="`}return ''})()}";const h=e.hasAttribute("break")?"break;":"",p=0===e.innerHTML.length,y=e.attributes.length?e.attributes[0].name:"",m=`<${t}>`,f=`</${t}>`,$=[...e.attributes];j(e);let g=e.outerHTML;const A=(t,n)=>{e.outerHTML=g.replace(m,t).replace(f,n)};switch(t){case"dsd":e.remove();break;case"noscript":b.innerHTML=b.innerHTML.replaceAll(m,"").replaceAll(f,"");break;case"map":A(`\${ ${n}.${t}((${i})=>{return \``,`\`}).join('${r}')}`);break;case"for":const o=`bay_${t}_${u(8)}`;n.length?A(`\${(()=>{let ${o}='';${n}.forEach((${i})=>{${o}+=\``,`\`});return ${o};})()}`):A(`\${(()=>{let ${o}=''; ${t} (${s}) { ${o} += \``,`\`};return ${o};})() }`);break;case"if":"else-if"!==l&&"else"!==l||(d="`}"),A(`\${(()=>{ ${t} (${s}) {return \``,d);break;case"else-if":"else-if"!==l&&"else"!==l||(d="`}"),A(` else if (${s}) {return \``,d);break;case"else":A(` ${t} {return \``,d);break;case"show":a?A(`<show-${ne} class="bay-show" open="\${${s}}" transition="${a} ease-in-out">`,`</show-${ne}>`):A(`<div class="\${(${s})?'bay-show':'bay-show bay-hide'}">`,"</div>");break;case"switch":A(`\${(()=>{let bay_switch=''; ${t} (${s}) { `," };return bay_switch;})() }");break;case"case":p?A(`${t} ${s}:`," "+h):A(`${t} ${s}: bay_switch += \``,"`; "+h);break;case"default":A(`${t}: bay_switch += \``,"`;");break;case"inner-html":v=!0,A("${ (()=>{$bay_inner_html+=`","`;return ''})()}"),e.remove();break;case"route":let E="";$.forEach(e=>{E+=` ${e.name}="${e.value}"`}),A(`<a bay-route :click="e.preventDefault();history.pushState({},'',e.target.getAttribute('href'));window.bay.update_route();"${E}>`,"</a>");break;case"router":A(`\${(()=>{let $path=window.bay.router(window.bay.route.path,'${s}');if($path){return \``,d);break;case"script":switch(y){case"imports":w+=e.innerText.trim()+"\n",e.remove();break;case"update":A("${/*update*/(()=>{setTimeout(()=>{","}, 0);return ``})()}");break;case"props":A("${/*props updates*/(()=>{$props=()=>{","};return ``})()}");break;case"render":A("${/*render*/(()=>{","})()}");break;case"slotchange":A("${/*slotchange updates*/(()=>{$slotchange=(e)=>{$details=e.detail;\n","};return ``})()}");break;case"mounted":c+=`$bay['$mounted']=()=>{${e.innerText}};`,e.remove();break;default:const n=B(b,t)[0];c+=n.innerText,e.remove()}e&&e.parentNode&&(e.outerHTML=g,e.remove())}}};["dsd","noscript","map","for","if","else-if","else","show","switch","case","default","inner-html","route","router","script"].forEach(e=>{for(;[...B(b,e)].length>0;){const t=[...B(b,e)];t.forEach(t=>d(t,e))}}),[...B(b,"*")].forEach(e=>{[...e.attributes].forEach(t=>{const n="bind"===t.name,i="custom:"===t.name.substring(0,7),r="input"===e.tagName.toLowerCase(),a="textarea"===e.tagName.toLowerCase();if(D(e.tagName.toLowerCase(),t.name)&&e.setAttribute(t.name,"true"),t.name===J){let n=`${J}="${t.value}"`;q.push({original:n,new:`\${(() => {return ${t.value} || ''})()}`}),e.setAttribute(l,"")}if(":"===t.name.substring(0,1)||i){let n="";i&&(n="custom-"),e.setAttribute(`${K}${n}${t.name.split(":")[1]}`,t.value),e.removeAttribute(t.name),e.setAttribute(l,"")}else n&&"select"===e.tagName.toLowerCase()?(e.setAttribute(`${K}custom-select-${ne}`,`$bay_select_bind(e, ${t.value})`),e.removeAttribute(t.name),e.innerHTML=`\${${t.value}.map((item)=>{return \`&lt;option \${(()=>{return Object.entries(item).map((o)=> \`\${o[0]}="\${o[1]}"\` ).join(' ')})()}>\${item.text}&lt;/option>\`}).join('')}`,g=!0,e.setAttribute(l,"")):n&&(r||a)?(e.setAttribute(`${K}input`,`${t.value} = e.target.value`),e.removeAttribute(t.name),e.setAttribute("value",`\${${t.value}}`),e.setAttribute(l,"")):"bind:"===t.name.substring(0,5)&&(r||a)&&(e.setAttribute(`${K}${t.name.split(":")[1]}`,`${t.value} = e.target.value`),e.removeAttribute(t.name),e.setAttribute("value",`\${${t.value}}`),e.setAttribute(l,""))}),e.tagName.indexOf("-")>-1&&[...e.attributes].forEach(t=>{let n=t.value;0===n.indexOf("${")&&0===n.lastIndexOf("${")&&n.endsWith("}")&&(n=n.replace("${","${$bay.encode(JSON.stringify("),n=[...n].reverse().join(""),n=n.replace("}","}))"),n=[...n].reverse().join("")),e.setAttribute(t.name,n)})}),g&&(window.bay.apply_select=((e,t)=>{[...e.target.options].forEach((e,n)=>{t[n].selected?(e.selected=!0,e.setAttribute("selected","true")):(e.selected=!1,e.removeAttribute("selected"))}),e.target.onchange=(e=>{[...e.target.options].forEach((e,n)=>{e.selected?t[n].selected=!0:t[n].selected=!1})})})),[...B(b,"*")].forEach(e=>{if(e.hasAttribute("bay-map")||e.hasAttribute("bay-for")){let t=e.hasAttribute("bay-map")?"map":"for",n=e.getAttribute("this")||"",i=e.getAttribute("params")||"",r=e.getAttribute("bay-map")||e.getAttribute("bay-for")||e.getAttribute("array")||"[]",a=e.getAttribute("join")||"";e.removeAttribute("params"),e.removeAttribute("bay-map"),e.removeAttribute("bay-for"),e.removeAttribute("this"),e.removeAttribute("array"),e.removeAttribute("join");let o=e.outerHTML,s="";if("map"===t)s="<!--iteration"+`\${ ${r}.map((${i})=>{return \`${o}\`}).join('${a}') }`+"iteration-->";else{const e=`bay_for_${u(8)}`;s=n?"<!--iteration"+`\${ (()=>{let ${e}=''; for (${n}) { ${e} += \`${o}\`};return ${e};})()}`+"iteration-->":"<!--iteration"+`\${(()=>{let ${e}='';${r}.forEach((${i})=>{${e}+=\`${o}\`});return ${e};})()}`+"iteration-->"}e.outerHTML=s}}),U(b),p=c,y=r}catch(e){console.error(e)}if(s){class e extends HTMLElement{constructor(){super(),this.mounted=!1,this.tmp=`${b.innerHTML}`,this.uniqid=u(8),this.CSP=!1,this.dsd=!1,this.debouncer=!1,this.prefixes=[],this.eventHandlers=new Map;const e=this.getAttribute("inner-html");if(e?B(document,e)[0]?this.inner_el=B(document,e)[0]:console.error("inner-html target "+e+" not found."):this.inner_el=this,document.addEventListener("securitypolicyviolation",e=>{e.preventDefault(),(e.violatedDirective.indexOf("script-src")>-1||e.violatedDirective.indexOf("style-src")>-1)&&"blob"===e.blockedURI&&(console.warn("blob: needed in script-src/style-src CSP"),this.CSP=!0)}),this.shadowRoot){this.shadowDom=this.shadowRoot;const e=document.createElement("div");e.id="bay",[...this.shadowDom.children].map(t=>e.appendChild(t)),this.shadowRoot.appendChild(e),this.dsd=!0}else{this.attachShadow({mode:"open"}),this.shadowDom=this.shadowRoot;let e=document.createElement("template");e.innerHTML='<div id="bay"></div>',this.shadowDom.appendChild(e.content.cloneNode(!0))}this.shadowDom.proxy=c({},()=>{k(this)}),this.shadowRootHTML=B(this.shadowDom,"#bay")[0],window.bay[this.uniqid]=this.shadowDom,[...r].forEach(e=>{this.shadowDom.proxy[e.att]=e.value}),window.bay[this.uniqid][W]=this,this.oldEvents="",this.shadowDom.refs=(e=>{let t=[...this.shadowDom.querySelectorAll(`[ref="${e}"]`),...document.querySelectorAll(`${i} [ref="${e}"]`),...document.querySelectorAll(`#${i} [ref="${e}"]`),...this.inner_el.querySelectorAll(`[ref="${e}"]`)];if(t.length>1)return t;if(1===t.length)return t[0];{let t=document.createElement("error");return t.innerHTML=`$refs("${e}") not mounted"`,t}}),p||(p="/* No script tag found */"),this.shadowDom.uniqid=this.uniqid;const s=this.getRootNode();this.parent_uniqid="",s.host&&(this.parent_uniqid=s.host.uniqid),this.update_evt=new CustomEvent(`bay_local_update_event_${this.uniqid}`);let l="";this.tmp.indexOf("/*props updates*/")>-1&&(l="let $props;\nwindow.addEventListener(`bay_local_update_event_${$bay_uniqid}`,()=>$props());\n");let h="";this.tmp.indexOf("/*slotchange updates*/")>-1&&(l="let $slotchange=()=>{};\nlet $details={'element':'','changed':''};\nwindow.addEventListener(`bay_slotchange_event_${$bay_uniqid}`,(e)=>$slotchange(e));\n"),window.bay[this.uniqid].decode=n,window.bay[this.uniqid].encode=t,window.bay.update_route=d,f&&(window.bay[this.uniqid].update_route=window.bay.update_route);let y="";$&&(y="const $prop = prop => JSON.parse($bay.decode(prop));\n"),window.bay[this.uniqid].addEventListener("slotchange",e=>{this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e.target,changed:"slotchange"}}),window.dispatchEvent(this.local_evt)});let m=B(this,"*");m.forEach(e=>{const t=new MutationObserver(t=>{t.forEach(t=>{"attributes"===t.type?(this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e,changed:"attributes"}}),window.dispatchEvent(this.local_evt)):"childList"===t.type&&(this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e,changed:"childList"}}),window.dispatchEvent(this.local_evt))})});t.observe(e,{attributes:!0,childList:!0})});let g=`// ${i};\n`,A="",E="",_="";v&&(A="let $bay_inner_html='';\n",E=" $bay_inner_html=''; ",_="\n$bay.inner_html=()=>{return $bay_inner_html;};");let x="";L&&(x="$bay.on=(name,callback)=>{window.addEventListener(name,e=>callback(e));};\n"),window.bay[this.uniqid].emit=window.bay.emit,window.bay[this.uniqid].receive=window.bay.receive;let M=`${x}function bay_receive_fn(e){$bay.receive($bay,$el,e.detail.name,e.detail.data);}\nwindow.removeEventListener('bay_emit',bay_receive_fn);\nwindow.addEventListener('bay_emit',bay_receive_fn);\n`;this.prefixes=[g,A,l,h,y,M];const H=this.prefixes.join("")+n(p).replace(/(^[ \t]*\n)/gm,"");let S=n(this.tmp).replace(/(^[ \t]*\n)/gm,"");q.forEach(e=>{S=S.replaceAll(e.original,e.new)}),S=S.replaceAll("<!--iteration","").replaceAll("iteration-->","");let C="";if(a&&(C=n(a).replaceAll('"${',"${").replaceAll("'${","${").replaceAll('}"',"}").replaceAll("}'","}").replaceAll("  ","").replaceAll("\n","")),T(this,o,i,`${H}\n${I}.template=()=>{${E}return \`${S}\`;};\n${I}.styles=()=>{return \`${C}\`;};${_}`,this.parent_uniqid,w),this.hasAdopted=!1,"adoptedStyleSheets"in document&&(this.hasAdopted=!0),this.hasAdopted)this.sheet=new CSSStyleSheet,this.sheet.replaceSync(C),this.shadowDom.adoptedStyleSheets=[this.sheet];else{const e=new Blob([C],{type:"text/css"}),t=URL.createObjectURL(e),n=document.createElement("link");n.rel="stylesheet",n.href=t,this.shadowDom.appendChild(n),n.id="bay-style";const i=document.createElement("link");i.id="bay-style-update",i.href=t,i.rel="stylesheet",this.shadowDom.appendChild(i),this.styleLinkUpdate=i}}render(){if(this.CSP)this.shadowDom.innerHTML="";else if(this.tmp&&this.shadowRootHTML.innerHTML&&"function"==typeof window.bay[this.uniqid].template)try{if(v&&A(this.uniqid,this.inner_el),E(this.uniqid,this.shadowRootHTML),_(this,v?[...B(this.inner_el,"*"),...B(this.shadowRootHTML,"*")]:[...B(this.shadowRootHTML,"*")],w,this.parent_uniqid,l),x(this),g){const e=`[${K}custom-select-${ne}]`;let t=[];t=v?[...B(this.inner_el,e),...B(this.shadowRootHTML,e)]:[...B(this.shadowRootHTML,e)],t.forEach(e=>{e.dispatchEvent(new CustomEvent(`select-${ne}`))})}!1===this.mounted&&window.bay[this.uniqid].$mounted&&(this.mounted=!0,requestAnimationFrame(()=>{window.bay[this.uniqid].$mounted()})),B(this.shadowDom,"[bay]")[0]&&h(this.shadowDom),B(this.shadowDom,"[bay-hydrate]")[0]&&h(this.shadowDom),v&&(B(this.inner_el,"[bay]")[0]&&h(this.inner_el),B(this.inner_el,"[bay-hydrate]")[0]&&h(this.inner_el)),this.hasAttribute("fouc")&&this.removeAttribute("fouc")}catch(e){console.error(e)}}connectedCallback(){try{m&&window.addEventListener("bay_global_event",e=>{k(this)}),f&&window.addEventListener("bay_route_event",e=>{k(this)})}catch(e){console.error(e)}}static get observedAttributes(){return y}attributeChangedCallback(e,t,n){t!==n&&(this.shadowDom.proxy[e]=n,window.dispatchEvent(this.update_evt))}}customElements.define(s,e)}else console.error("Something went wrong loading file "+V+".")}if(window.bay)return;window.bay={};const B=(e,t)=>e.querySelectorAll(t),I="$bay",W="$el",K="data-bay-",J="this-attribute";let V="",z=[],G=[],Q=new Map,X="";const Y=[".passive",".capture",".once",".left",".middle",".right",".enter",".tab",".delete",".backspace",".esc",".space",".arrow-up",".arrow-down",".arrow-left",".arrow-right",".ctrl",".alt",".shift",".meta",".stop",".prevent",".self"];(function e(t){B(t,"template[shadowrootmode], template[shadowroot]").forEach(t=>{const n=t.getAttribute("shadowrootmode")||t.getAttribute("shadowroot"),i=t.parentNode.attachShadow({mode:n});i.appendChild(t.content),t.remove(),e(i)})})(document);const Z=document.createElement("textarea");let ee,te;window.bay.emit=i,window.bay.receive=r,window.bay.global=c({},()=>{ee&&window.cancelAnimationFrame(ee),ee=window.requestAnimationFrame(()=>{window.dispatchEvent(new CustomEvent("bay_global_event"))})}),window.bay.route=c({},()=>{te&&window.cancelAnimationFrame(te),te=window.requestAnimationFrame(()=>{window.dispatchEvent(new CustomEvent("bay_route_event"))})}),d(),window.addEventListener("popstate",()=>{d()}),window.bay.router=function(e,t){const n=t.split("/"),i=e.split("/");let r=!0,a={};for(let e=0;e<n.length;e++)if(":"===n[e][0])a[n[e].slice(1)]=i[e];else if("*"!==n[e]&&n[e]!==i[e]){r=!1;break}return!!r&&a};const ne=u(8),ie="<div id=\"show\" :style=\"${this.style()}\"><slot></slot></div><script update>$bay.getElementById('show').ontransitionend=()=>this.end();</script><script props>this.slide(this.open);</script><script mounted>this.slide(this.open);</script><script>this.opacity=0;this.display='none';this.slide=(open)=>{let opacity=0;if(open==='true'){opacity=1;this.display='block';};requestAnimationFrame(()=>{this.opacity=opacity;});};this.end=()=>{if(this.open==='false'){this.display='none';}};this.style=()=>{return `display:${this.display};opacity:${this.opacity};transition:opacity ${this.transition || '0s'};`;};</script>";window.addEventListener("load",()=>{h(document)}),bay.refresh=(()=>{h(document)}),window.bay.refresh=bay.refresh,bay.create=m,window.bay.create=bay.create};bay();