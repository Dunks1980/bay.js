var __awaiter=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,o){function r(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((a=a.apply(e,t||[])).next())}))};const bay=()=>{"use strict";window.bay||(window.bay={});const e=(e,t)=>e.querySelectorAll(t),t="data-bay-";let n="",a=[],i=[],o={};!function t(n){e(n,"template[shadowrootmode], template[shadowroot]").forEach((e=>{const n=e.getAttribute("shadowrootmode")||e.getAttribute("shadowroot"),a=e.parentNode.attachShadow({mode:n});a.appendChild(e.content),e.remove(),t(a)}))}(document);const r=document.createElement("textarea");function s(e){return"string"==typeof e?(r.textContent=e,r.innerHTML.replaceAll('"',"&quot;").replaceAll("'","&#39;")):e}function l(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}function d(e,t){return new Proxy(e,{get(e,n){if("isProxy"==n)return!0;const a=e[n];return void 0===a?"":null!=a?(a.isProxy||"object"!=typeof a||(e[n]=d(a,t)),e[n]):void 0},set:(e,n,a)=>(e[n]=s(a),t&&t(),!0)})}let c,u;function h(){Object.entries(window.location).forEach((e=>{window.bay.route[`${e[0]}`]=e[1]})),window.bay.route.path=window.location.pathname,window.bay.route.params={};const e=new URLSearchParams(window.location.search);for(let[t,n]of e)window.bay.route.params[t]=n}function p(e){if("function"==typeof crypto.randomUUID)return crypto.randomUUID().replaceAll("-","").substring(0,e);return(()=>([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))))().replaceAll("-","").substring(0,e)}window.bay.emit=function(e,t){const n={detail:{name:e,data:t}};window.dispatchEvent(new CustomEvent("bay_emit",n)),window.dispatchEvent(new CustomEvent(e,n))},window.bay.receive=function(t,n,a,i){[...e(t,`[data-bay-${a}]`),...e(n,`[data-bay-${a}]`),...e(document,`[data-bay-${a}]`)].forEach((e=>{e.dispatchEvent(new CustomEvent(a,{detail:{name:a,data:i}}))}))},window.bay.global=d({},(()=>{c&&window.cancelAnimationFrame(c),c=window.requestAnimationFrame((()=>{window.dispatchEvent(new CustomEvent("bay_global_event"))}))})),window.bay.route=d({},(()=>{u&&window.cancelAnimationFrame(u),u=window.requestAnimationFrame((()=>{window.dispatchEvent(new CustomEvent("bay_route_event"))}))})),h(),window.addEventListener("popstate",(()=>{h()})),window.bay.router=function(e,t){const n=t.split("/"),a=e.split("/");let i=!0,o={};for(let e=0;e<n.length;e++)if(":"===n[e][0])o[n[e].slice(1)]=a[e];else if("*"!==n[e]&&n[e]!==a[e]){i=!1;break}return!!i&&o};const b=p(8);function y(t){[...e(t,"[bay]")].forEach(((e,t)=>{"dsd"===e.getAttribute("bay")&&e.setAttribute("bay",`dsd-${t}`);const n=e.getAttribute("bay")||"";-1===a.indexOf(n)&&a.push(e)})),a.forEach((t=>{-1===i.indexOf(t.getAttribute("bay"))&&function(t){try{const a=t.getAttribute("bay")||"";if("dsd-"===a.substring(0,4))n=a,t.shadowRoot?w(l(t.shadowRoot.innerHTML),t):w(l(e(t,"template")[0].innerHTML),t);else if("#"===a.substring(0,1)){n=a;const i=e(document,a)[0];if(!i)return;w(i.innerHTML,t)}else{const e=new XMLHttpRequest;e.open("GET",a),e.setRequestHeader("Content-Type","text/plain"),e.addEventListener("load",(e=>{w(e.target.responseText,t)})),e.addEventListener("error",(e=>{})),e.send()}}catch(e){}}(t),i.push(t.getAttribute("bay"))}))}function w(t,n){const a=new DOMParser,i=n.tagName.toLowerCase(),o="export default /*HTML*/`";let r,s="";for(t.startsWith(o)&&(t=(t=(t=(t=t.trim()).split(o)[1]).substring(0,t.length-2)).replaceAll("\\${","${").replaceAll("\\`","`")),t=t.replaceAll(/<!--[\s\S]*?-->/g,"").replaceAll("{{","${").replaceAll("}}","}");t.indexOf("<style>")>-1;){const e=t.split("<style>")[1].split("</style>")[0];t=t.replaceAll(`<style>${e}</style>`,""),s+=e}r=a.parseFromString(t,"text/html"),r&&(customElements.get(i)||x(r,i,function(t){let n=[];const a=e=>{"bay"!==e.name&&"inner-html"!==e.name&&"fouc"!==e.name&&-1===n.indexOf(e.name)&&n.push(e.name)};return[...t.attributes].forEach((e=>a(e))),[...e(document,t.tagName.toLocaleLowerCase())].forEach((e=>{[...e.attributes].forEach((e=>a(e)))})),[...e(document,"template")].forEach((n=>{[...e(n.content,t.tagName.toLocaleLowerCase())].forEach((e=>{[...e.attributes].forEach((e=>a(e)))}))})),n}(n),s,!1))}function m(e,t){e.forEach(((e,n)=>{var a,i;if(!t[n].isEqualNode(e)&&t[n]&&(a=e,[...(i=t[n]).attributes].forEach((e=>{"style"!==e.name&&(a.hasAttribute(e.name)||(i.removeAttribute(e.nodeName),_(i,e.nodeName)&&delete i[e.nodeName]))})),[...a.attributes].forEach((e=>{i.hasAttribute(e.nodeName)&&i.getAttribute(e.nodeName)===e.value||i.setAttribute(e.nodeName,e.value),_(i,e.nodeName)&&i[e.nodeName]!==e.value&&(i[e.nodeName]=e.value)}))),!e.hasAttribute("data-bay-style")&&!e.hasAttribute("style")){const e=t[n].style.width,a=t[n].style.height;t[n].removeAttribute("style"),e&&(t[n].style.width=e),a&&(t[n].style.height=a)}}))}function $(e,n){n&&(e.newEvents="",e.newEventsArray=[],n.forEach(((n,a)=>{[...n.attributes].forEach((i=>function(e,n,a,i){let o=n.name;if(o.indexOf(t)>-1){if(o.indexOf("-custom-")>-1&&(o=o.replace("custom-","")),o.indexOf("data-bay-style")>-1)a.style!==n.value&&(a.style=n.value);else{const r=n.value.replaceAll("window.bay","$bay");-1===e.newEvents.indexOf("$bay.events = new Map();\n")&&(e.newEvents+="$bay.events = new Map();\n",e.newEventsArray.push(i)),e.newEvents+=`$bay.events.set('${o}-${i}', function(e) {${r}});\n`;const s=t=>{window.bay[e.uniqid].events&&window.bay[e.uniqid].events.get(`${o}-${i}`)(t)},l=`${e.uniqid}${i}${o}`,d=o.split(t)[1];e.eventHandlers.has(l)&&(a.removeEventListener(d,e.eventHandlers.get(l)),e.eventHandlers.delete(l)),e.eventHandlers.set(l,s),a.addEventListener(d,e.eventHandlers.get(l))}}}(e,i,n,a)))})),e.oldEventsArray.forEach((t=>{-1===e.newEventsArray.indexOf(t)&&delete window.bay[e.uniqid][t]})),e.newEvents&&e.oldEvents!==e.newEvents&&(e.oldEvents=e.newEvents,e.oldEventsArray=e.newEventsArray,function(e,t){__awaiter(this,void 0,void 0,(function*(){const n=new Blob([`export default () => {"use strict";\n${e.evt_prefixes}${t}};`],{type:"text/javascript"}),a=URL.createObjectURL(n);(yield import(a)).default(),URL.revokeObjectURL(a)}))}(e,e.newEvents)))}function f(e){e.debouncer&&window.cancelAnimationFrame(e.debouncer),e.debouncer=window.requestAnimationFrame((()=>{e.render()}))}function v(t){t.dsd||(t.tmp=window.bay[t.uniqid].template(),t.shadowDom.getElementById("bay").innerHTML=t.tmp),f(t),t.CSP?t.shadowDom.innerHTML="CSP issue, add blob: to script-src & style-src whitelist.":e(t.shadowDom,"[bay]")[0]&&y(t.shadowDom)}function g(e){return(new DOMParser).parseFromString(e,"text/html").body}function E(e){return 3===e.nodeType?"text":8===e.nodeType?"comment":e.tagName.toLowerCase()}function L(e){return e.childNodes&&e.childNodes.length>0?null:e.textContent}function A(e,t){const n=[...t.childNodes],a=[...e.childNodes];let i=n.length-a.length;if(i>0)for(;i>0;i--)n[n.length-i].parentNode.removeChild(n[n.length-i]);a.forEach(((e,a)=>{if(!n[a])return void t.appendChild(e.cloneNode(!0));if(E(e)!==E(n[a])){try{n[a].parentNode.replaceChild(e.cloneNode(!0),n[a])}catch(e){}return}const i=L(e);if(i&&i!==L(n[a])&&(n[a].textContent=i),n[a].childNodes.length>0&&e.childNodes.length<1)n[a].innerHTML="";else{if(n[a].childNodes.length<1&&e.childNodes.length>0){const t=document.createDocumentFragment();return A(e,t),void n[a].appendChild(t)}e.childNodes.length>0&&A(e,n[a])}}))}function _(e,t){return void 0!==e[t]&&"object"!=typeof e[t]}function x(t,n,a,i,r){let c="",u=null,w="",E=[],L=!1,_=!1,x=!1,T=!1,H=!1;try{i="*:not(:defined){opacity:0;max-width:0px;max-height:0px}*:not(:defined)*{opacity:0;max-width:0px;max-height:0px}.bay-hide{display:none}"+(i||""),u=t.body,c=n;const o=document.createElement(`${n}-update`);u.appendChild(o),(u.innerHTML.indexOf("$global.")>-1||u.innerHTML.indexOf("$global[")>-1)&&(L=!0),(u.innerHTML.indexOf("$route.")>-1||u.innerHTML.indexOf("$route[")>-1||u.innerHTML.indexOf("</router>")>-1||u.innerHTML.indexOf("</route>")>-1||u.innerHTML.indexOf("$bay.update_route")>-1)&&(_=!0),u.innerHTML.indexOf("</route>")>-1&&(i=(i||"")+"[bay-route]>*{pointer-events:none}"),u.innerHTML.indexOf("$bay.on(")>-1&&(H=!0),u.innerHTML.indexOf("</show>")>-1&&bay.create(`show-${b}`,"\n  <div id=\"show\" :style=\"${this.style()}\"><slot></slot></div>\n  <script update>$bay.getElementById('show').ontransitionend = () => this.end();<\/script>\n  <script props>this.slide(this.open);<\/script>\n  <script mounted>this.slide(this.open);<\/script>\n  <script>\n    this.opacity = 0;\n    this.display = 'none';\n    this.slide = (open) => {\n      let opacity = 0;\n      if (open === 'true') {opacity = 1; this.display = 'block';}\n      requestAnimationFrame(() => {this.opacity = opacity;});};\n    this.end = () => {if (this.open === 'false') { this.display = 'none';}}\n    this.style = () => {return `display:${this.display}; opacity:${this.opacity}; transition: opacity ${this.transition || '0s'};`;};\n  <\/script>\n",["open","transition"]);const r="element, index, array";let s="";const l=(t,n)=>{if(!e(t,n)[0]){const a=t.getAttribute("array")||[],i=t.getAttribute("params")||r,o=t.getAttribute("join")||"",l=t.getAttribute("duration")||!1,d=[...t.attributes][0]?[...t.attributes][0].nodeValue:"",c=t.nextElementSibling?t.nextElementSibling.tagName.toLowerCase():"";let h="` } return '' })() }";const y=t.hasAttribute("break")?"break;":"",w=0===t.innerHTML.length,m=t.attributes.length?t.attributes[0].name:"",$=`<${n}>`,f=`</${n}>`,v=[...t.attributes];!function(e){for(;e.attributes.length>0;)e.removeAttribute(e.attributes[0].name)}(t);let g=t.outerHTML;switch(n){case"dsd":t.remove();break;case"noscript":u.innerHTML=u.innerHTML.replaceAll($,"").replaceAll(f,"");break;case"map":g=g.replace($,`\${ ${a}.${n}((${i}) => { return \``).replace(f,`\`}).join('${o}')}`),t.outerHTML=g;break;case"for":const r=`bay_${n}_${p(8)}`;g=a.length?g.replace($,`\${(() => { let ${r} = ''; ${a}.forEach((${i}) => { ${r} += \``).replace(f,`\`}); return ${r}; })() }`):g.replace($,`\${(() => { let ${r} = ''; ${n} (${d}) { ${r} += \``).replace(f,`\`}; return ${r}; })() }`),t.outerHTML=g;break;case"if":"else-if"!==c&&"else"!==c||(h="` }"),t.outerHTML=g.replace($,`\${(() => { ${n} (${d}) { return \``).replace(f,h);break;case"else-if":"else-if"!==c&&"else"!==c||(h="` }"),t.outerHTML=g.replace($,` else if (${d}) { return \``).replace(f,h);break;case"else":t.outerHTML=g.replace($,` ${n} { return \``).replace(f,h);break;case"show":t.outerHTML=l?g.replace($,`<show-${b} class="bay-show" open="\${${d}}" transition="${l} ease-in-out">`).replace(f,`</show-${b}>`):g.replace($,`<div class="\${(${d}) ? 'bay-show' : 'bay-show bay-hide'}">`).replace(f,"</div>");break;case"switch":t.outerHTML=g.replace($,`\${(() => { ${n} (${d}) { `).replace(f," }; return '' })() }");break;case"case":t.outerHTML=w?g.replace($,`${n} ${d}:`).replace(f," "+y):g.replace($,`${n} ${d}: return \``).replace(f,"`; "+y);break;case"default":t.outerHTML=g.replace($,`${n}: return \``).replace(f,"`;");break;case"inner-html":x=!0,t.outerHTML=g.replace($,"${ (() => { $bay_inner_html += `").replace(f,"`; return ''} )()}"),t.remove();break;case"route":let E="";v.forEach((e=>{E+=` ${e.name}="${e.value}"`})),t.outerHTML=g.replace($,`<a bay-route :click="e.preventDefault();history.pushState({},'',e.target.getAttribute('href'));window.bay.update_route();"${E}>`).replace(f,"</a>");break;case"router":t.outerHTML=g.replace($,`\${(() => { let $path = window.bay.router(window.bay.route.path,'${d}'); if ($path) { return \``).replace(f,h);break;case"script":switch(m){case"update":g=g.replace($,"${/*update*/ (() => {setTimeout(() => {").replace(f,"}, 0); return ``})()}");break;case"props":g=g.replace($,"${ /*props updates*/ (() => {$props = () => {").replace(f,"};return ``})()}");break;case"render":g=g.replace($,"${ /*render*/ (() => {").replace(f,"})()}");break;case"slotchange":g=g.replace($,"${ /*slotchange updates*/ (() => {$slotchange = (e) => { $details = e.detail;\n").replace(f,"};return ``})()}");break;case"mounted":s+=`$bay['$mounted'] = () => {${t.innerText}};`,t.remove();break;default:const a=e(u,n)[0];s+=a.innerText,t.remove();break}t&&t.parentNode&&(t.outerHTML=g,t.remove());break}}};["dsd","noscript","map","for","if","else-if","else","show","switch","case","default","inner-html","route","router","script"].forEach((t=>{for(;[...e(u,t)].length>0;){[...e(u,t)].forEach((e=>l(e,t)))}})),[...e(u,"*")].forEach((e=>{[...e.attributes].forEach((t=>{const n="bind"===t.name,a="custom:"===t.name.substring(0,7),i="input"===e.tagName.toLowerCase(),o="textarea"===e.tagName.toLowerCase();if(":"===t.name.substring(0,1)||a){let n="";a&&(n="custom-"),e.setAttribute(`data-bay-${n}${t.name.split(":")[1]}`,t.value),e.removeAttribute(t.name)}else n&&"select"===e.tagName.toLowerCase()?(e.setAttribute(`data-bay-custom-select-${b}`,`$bay_select_bind(e, ${t.value})`),e.hasAttribute("multiple")&&e.setAttribute("multiple","true"),e.removeAttribute(t.name),e.innerHTML=`\${${t.value}.map((item) => { return \`&lt;option \${ (() => {return Object.entries(item).map((o) => \`\${o[0]}="\${o[1]}"\` ).join(' ')})() }>\${item.text}&lt;/option>\`}).join('')}`,T=!0):n&&(i||o)?(e.setAttribute("data-bay-input",`${t.value} = e.target.value`),e.removeAttribute(t.name),e.setAttribute("value",`\${${t.value}}`)):"bind:"===t.name.substring(0,5)&&(i||o)&&(e.setAttribute(`data-bay-${t.name.split(":")[1]}`,`${t.value} = e.target.value`),e.removeAttribute(t.name),e.setAttribute("value",`\${${t.value}}`))}))})),T&&(window.bay.apply_select=(e,t)=>{[...e.target.options].forEach(((e,n)=>{t[n].selected?(e.selected=!0,e.setAttribute("selected","true")):(e.selected=!1,e.removeAttribute("selected"))})),e.target.onchange=e=>{[...e.target.options].forEach(((e,n)=>{e.selected?t[n].selected=!0:t[n].selected=!1}))}}),w=s,E=a}catch(e){}c&&customElements.define(c,class extends HTMLElement{constructor(){super(),this.oldEventsArray=[],this.newEventsArray=[],this.eventHandlers=new Map,this.mounted=!1,this.tmp=`${u.innerHTML}`,this.uniqid=p(8),this.CSP=!1,this.dsd=!1,this.debouncer=!1,this.prefixes="",this.evt_prefixes="";const t=this.getAttribute("inner-html");if(t?e(document,t)[0]&&(this.inner_el=e(document,t)[0]):this.inner_el=this,document.addEventListener("securitypolicyviolation",(e=>{e.preventDefault(),e.violatedDirective.indexOf("script-src")>-1&&"blob"===e.blockedURI&&(this.CSP=!0),e.violatedDirective.indexOf("style-src")>-1&&"blob"===e.blockedURI&&(this.CSP=!0)})),this.shadowRoot){this.shadowDom=this.shadowRoot;const e=document.createElement("div");e.id="bay",[...this.shadowDom.children].map((t=>e.appendChild(t))),this.shadowRoot.appendChild(e),this.dsd=!0}else{this.attachShadow({mode:"open"}),this.shadowDom=this.shadowRoot;let e=document.createElement("template");e.innerHTML='<div id="bay"></div>',this.shadowDom.appendChild(e.content.cloneNode(!0))}this.shadowDom.proxy=d({},(()=>{f(this)})),this.shadowRootHTML=e(this.shadowDom,"#bay")[0],window.bay[this.uniqid]=this.shadowDom,[...a].forEach((e=>{this.shadowDom.proxy[e.att]=e.value})),window.bay[this.uniqid].$el=this,this.oldEvents="",this.oldEventsArray=[],w||(w="/* No script tag found */"),this.shadowDom.uniqid=this.uniqid;const c=this.getRootNode();let b="",y="",m="";c.host&&(b="const $parent = window.bay[parent_uniqid]['proxy'];\n",y=`const $parent = window.bay['${c.host.uniqid}']['proxy'];\n`,m=c.host.uniqid);const $=`const $bay = window.bay['${this.uniqid}'];\n`,g="const $global = window.bay.global;\n",E="const $route = window.bay.route;\n",L="const $el = $bay['$el'];\n";this.update_evt=new CustomEvent(`bay_local_update_event_${this.uniqid}`);let A="";this.tmp.indexOf("/*props updates*/")>-1&&(A="let $props;\nwindow.addEventListener(`bay_local_update_event_${bay_uniqid}`, () => $props());\n");this.tmp.indexOf("/*slotchange updates*/")>-1&&(A="let $slotchange = () => {};\nlet $details = {'element': '', 'changed': ''};\nwindow.addEventListener(`bay_slotchange_event_${bay_uniqid}`, (e) => $slotchange(e));\n"),window.bay.decode=l;const M="$bay.decode = window.bay.decode;\n";window.bay.encode=s;const C="$bay.encode = window.bay.encode;\n";window.bay.update_route=h;let q="";_&&(q="$bay.update_route = window.bay.update_route;\n"),window.bay[this.uniqid].addEventListener("slotchange",(e=>{this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e.target,changed:"slotchange"}}),window.dispatchEvent(this.local_evt)})),e(this,"*").forEach((e=>{new MutationObserver((t=>{t.forEach((t=>{"attributes"===t.type?(this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e,changed:"attributes"}}),window.dispatchEvent(this.local_evt)):"childList"===t.type&&(this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e,changed:"childList"}}),window.dispatchEvent(this.local_evt))}))})).observe(e,{attributes:!0,childList:!0})}));let k="",O="",N="";x&&(k="let $bay_inner_html = '';\n",O=" $bay_inner_html = ''; ",N="\n$bay.inner_html = () => { return $bay_inner_html; };");let R="";T&&(R="const $bay_select_bind = window.bay.apply_select;\n");let S="";H&&(S="$bay.on = (name, callback) => {window.addEventListener(name, e => callback(e));};\n");let D=`$bay.emit = window.bay.emit;\n$bay.receive = window.bay.receive;\n${S}function bay_receive_fn(e) {$bay.receive($bay, $el, e.detail.name, e.detail.data);}\nwindow.removeEventListener('bay_emit', bay_receive_fn);\nwindow.addEventListener('bay_emit', bay_receive_fn);\n`;this.prefixes=`const $bay = window.bay[bay_uniqid];\n${g}${E}${L}${b}${k}${C}${M}${A}${q}${D}`,this.evt_prefixes=`${$}${g}${E}${L}${y}${C}${M}${q}${R}`;const U=`${this.prefixes}`+l(w).replaceAll("this[","$bay.proxy[").replaceAll("this.","$bay.proxy.").replace(/(^[ \t]*\n)/gm,""),j=l(this.tmp).replaceAll("this[","$bay.proxy[").replaceAll("this.","$bay.proxy.").replace(/(^[ \t]*\n)/gm,"");let P="";if(i&&(P=l(i).replaceAll('"${',"${").replaceAll("'${","${").replaceAll('}"',"}").replaceAll("}'","}").replaceAll("this[","$bay.proxy[").replaceAll("this.","$bay.proxy.").replaceAll("  ","").replaceAll("\n","")),function(e,t,n,a,i){__awaiter(this,void 0,void 0,(function*(){if(o[n])yield import(o[n]).then((t=>{t.default(e.uniqid,i),v(e)}));else{const r=new Blob([`export default (bay_uniqid, parent_uniqid) => {"use strict";\n${a}};`],{type:"text/javascript"}),s=URL.createObjectURL(r);o[n]=s,yield import(s).then((n=>{n.default(e.uniqid,i),v(e),t&&URL.revokeObjectURL(s)}))}}))}(this,r,n,`${U}\n$bay.template = () => {${O}return \`${j}\`;};\n$bay.styles = () => { return \`${P}\`;};${N}`,m),this.hasAdopted=!1,"adoptedStyleSheets"in document&&(this.hasAdopted=!0),this.hasAdopted)this.sheet=new CSSStyleSheet,this.sheet.replaceSync(P),this.shadowDom.adoptedStyleSheets=[this.sheet];else{const e=new Blob([P],{type:"text/css"}),t=URL.createObjectURL(e),n=document.createElement("link");n.rel="stylesheet",n.href=t,this.shadowDom.appendChild(n),n.id="bay-style";const a=document.createElement("link");a.id="bay-style-update",a.href=t,a.rel="stylesheet",this.shadowDom.appendChild(a),this.styleLinkUpdate=a}}render(){if(this.CSP)this.shadowDom.innerHTML="";else if(this.tmp&&this.shadowRootHTML.innerHTML&&"function"==typeof window.bay[this.uniqid].template)try{if(x&&function(t,n){if(!n)return;if("function"!=typeof window.bay[t].inner_html)return;window.bay[t].template();const a=g(window.bay[t].inner_html());A(a,n),m([...e(a,"*")],[...e(n,"*")])}(this.uniqid,this.inner_el),function(t,n){const a=g(window.bay[t].template());A(a,n),m([...e(a,"*")],[...e(n,"*")])}(this.uniqid,this.shadowRootHTML),$(this,x?[...e(this.inner_el,"*"),...e(this.shadowRootHTML,"*")]:[...e(this.shadowRootHTML,"*")]),function(e){const t=window.bay[e.uniqid].styles();if(e.oldStyles!==t)if(e.oldStyles=t,e.hasAdopted)e.sheet.replaceSync(t);else{const n=new Blob([t],{type:"text/css"}),a=URL.createObjectURL(n);e.styleLinkUpdate.href=a,URL.revokeObjectURL(a)}}(this),T){const t=`[data-bay-custom-select-${b}]`;let n=[];n=x?[...e(this.inner_el,t),...e(this.shadowRootHTML,t)]:[...e(this.shadowRootHTML,t)],n.forEach((e=>{e.dispatchEvent(new CustomEvent(`select-${b}`))}))}!1===this.mounted&&window.bay[this.uniqid].$mounted&&(this.mounted=!0,setTimeout((()=>{window.bay[this.uniqid].$mounted()}),14)),e(this.shadowDom,"[bay]")[0]&&y(this.shadowDom),this.hasAttribute("fouc")&&this.removeAttribute("fouc")}catch(e){}}connectedCallback(){try{L&&window.addEventListener("bay_global_event",(e=>{f(this)})),_&&window.addEventListener("bay_route_event",(e=>{f(this)}))}catch(e){}}static get observedAttributes(){return E}attributeChangedCallback(e,t,n){t!==n&&(this.shadowDom.proxy[e]=n,window.dispatchEvent(this.update_evt))}})}window.addEventListener("load",(()=>{y(document)})),bay.refresh=()=>{y(document)},bay.create=function(e,t,n){const a=new DOMParser,i=n||[];let o="";(t=t.replaceAll(/<!--[\s\S]*?-->/g,"").replaceAll("{{","${").replaceAll("}}","}")).indexOf("<style>")>-1&&(o=t.split("<style>")[1].split("</style>")[0]),t=t.replaceAll(`<style>${o}</style>`,"");let r=a.parseFromString(t,"text/html");r&&(customElements.get(e.toLowerCase())||x(r,e.toLowerCase(),i,o,!0))}};bay();