var __awaiter=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,o){function s(e){try{d(a.next(e))}catch(e){o(e)}}function r(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((a=a.apply(e,t||[])).next())}))};const bay=()=>{"use strict";if(window.bay)return;window.bay={};const e=(e,t)=>e.querySelectorAll(t),t="data-bay-";let n="",a=[],i=[],o=new Map;!function t(n){e(n,"template[shadowrootmode], template[shadowroot]").forEach((e=>{const n=e.getAttribute("shadowrootmode")||e.getAttribute("shadowroot"),a=e.parentNode.attachShadow({mode:n});a.appendChild(e.content),e.remove(),t(a)}))}(document);const s=document.createElement("textarea");function r(e){return"string"==typeof e?(s.textContent=e,s.innerHTML.replaceAll('"',"&quot;").replaceAll("'","&#39;")):e}function d(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}function l(e,t){return new Proxy(e,{get(e,n){if("isProxy"===n)return!0;const a=e[n];return void 0===a?"":null!==a?(a.isProxy||"object"!=typeof a||(a instanceof Map?e[n]=function(e,t){return new Proxy(e,{get:(e,n)=>"set"===n?function(n,a){return e.set(n,r(a)),t&&t(),e}:["get","has","delete","clear"].includes(n)?function(...t){return e[n].apply(e,t)}:e[n]})}(a,t):a instanceof WeakMap?e[n]=function(e,t){return new Proxy(e,{get:(e,n)=>"set"===n?function(n,a){return e.set(n,r(a)),t&&t(),e}:["get","has","delete"].includes(n)?function(...t){return e[n].apply(e,t)}:e[n]})}(a,t):a instanceof Set?e[n]=function(e,t){return new Proxy(e,{get:(e,n)=>"add"===n?function(n){return e.add(r(n)),t&&t(),e}:["has","delete","clear"].includes(n)?function(...t){return e[n].apply(e,t)}:e[n]})}(a,t):a instanceof WeakSet?e[n]=function(e,t){return new Proxy(e,{get:(e,n)=>"add"===n?function(n){return e.add(r(n)),t&&t(),e}:["has","delete"].includes(n)?function(...t){return e[n].apply(e,t)}:e[n]})}(a,t):e[n]=l(a,t)),e[n]):void 0},set:(e,n,a)=>(e[n]=r(a),t&&t(),!0)})}let c,u;function h(){Object.entries(window.location).forEach((e=>{window.bay.route[`${e[0]}`]=e[1]})),window.bay.route.path=window.location.pathname,window.bay.route.params={};const e=new URLSearchParams(window.location.search);for(let[t,n]of e)window.bay.route.params[t]=n}function b(e){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))).replaceAll("-","").substring(0,e)}window.bay.emit=function(e,t){const n={detail:{name:e,data:t}};window.dispatchEvent(new CustomEvent("bay_emit",n)),window.dispatchEvent(new CustomEvent(e,n))},window.bay.receive=function(t,n,a,i){[...e(t,`[data-bay-${a}]`),...e(n,`[data-bay-${a}]`),...e(document,`[data-bay-${a}]`)].forEach((e=>{e.dispatchEvent(new CustomEvent(a,{detail:{name:a,data:i}}))}))},window.bay.global=l({},(()=>{c&&window.cancelAnimationFrame(c),c=window.requestAnimationFrame((()=>{window.dispatchEvent(new CustomEvent("bay_global_event"))}))})),window.bay.route=l({},(()=>{u&&window.cancelAnimationFrame(u),u=window.requestAnimationFrame((()=>{window.dispatchEvent(new CustomEvent("bay_route_event"))}))})),h(),window.addEventListener("popstate",(()=>{h()})),window.bay.router=function(e,t){const n=t.split("/"),a=e.split("/");let i=!0,o={};for(let e=0;e<n.length;e++)if(":"===n[e][0])o[n[e].slice(1)]=a[e];else if("*"!==n[e]&&n[e]!==a[e]){i=!1;break}return!!i&&o};const p=b(8);function y(t){[...document.querySelectorAll("[bay-hydrate]")].forEach(((e,t)=>{e.id="bay-hydrate-"+t;let n=e.querySelector("template").innerHTML,a=document.createElement("bay-hydrate-"+t);a.setAttribute("inner-html","#bay-hydrate-"+t),document.body.appendChild(a),window.bay.create("bay-hydrate-"+t,"<inner-html>"+n+"</inner-html>")})),[...e(t,"[bay]")].forEach(((e,t)=>{"dsd"===e.getAttribute("bay")&&e.setAttribute("bay",`dsd-${t}`),-1===a.indexOf(e.getAttribute("bay")||"")&&a.push(e)})),a.forEach((t=>{-1===i.indexOf(t.getAttribute("bay"))&&function(t){try{const a=t.getAttribute("bay")||"";if("dsd-"===a.substring(0,4))n=a,t.shadowRoot?w(d(t.shadowRoot.innerHTML),t):w(d(e(t,"template")[0].innerHTML),t);else if("#"===a.substring(0,1)){n=a;const i=e(document,a)[0];if(!i)return;w(i.innerHTML,t)}else fetch(a).then((e=>e.text())).then((e=>{w(e,t)})).catch((e=>{}))}catch(e){}}(t),i.push(t.getAttribute("bay"))}))}function w(t,n){const a=new DOMParser,i=n.tagName.toLowerCase(),o="export default /*HTML*/`";let s,r="";for(t.startsWith(o)&&(t=(t=(t=(t=t.trim()).split(o)[1]).substring(0,t.length-2)).replaceAll("\\${","${").replaceAll("\\`","`"));t.indexOf("<style>")>-1;){const e=t.split("<style>")[1].split("</style>")[0];t=t.replaceAll(`<style>${e}</style>`,""),r+=e}t=t.replaceAll(/<!--[\s\S]*?-->/g,""),s=a.parseFromString(t,"text/html"),s&&(customElements.get(i)||A(s,i,function(t){let n=[];const a=e=>{"bay"!==e.name&&"inner-html"!==e.name&&"fouc"!==e.name&&-1===n.indexOf(e.name)&&n.push(e.name)};return[...t.attributes].forEach((e=>a(e))),[...e(document,t.tagName.toLocaleLowerCase())].forEach((e=>{[...e.attributes].forEach((e=>a(e)))})),[...e(document,"template")].forEach((n=>{[...e(n.content,t.tagName.toLocaleLowerCase())].forEach((e=>{[...e.attributes].forEach((e=>a(e)))}))})),n}(n),r,!1))}function m(e,t){e.forEach(((e,n)=>{var a,i;if(!t[n].isEqualNode(e)&&t[n]&&(a=e,[...(i=t[n]).attributes].forEach((e=>{"style"!==e.name&&(a.hasAttribute(e.name)||(i.removeAttribute(e.nodeName),x(i,e.nodeName)&&delete i[e.nodeName]))})),[...a.attributes].forEach((e=>{i.hasAttribute(e.nodeName)&&i.getAttribute(e.nodeName)===e.value||i.setAttribute(e.nodeName,e.value),x(i,e.nodeName)&&i[e.nodeName]!==e.value&&(i[e.nodeName]=e.value)}))),!e.hasAttribute("data-bay-style")&&!e.hasAttribute("style")){const e=t[n].style.width,a=t[n].style.height;t[n].removeAttribute("style"),e&&(t[n].style.width=e),a&&(t[n].style.height=a)}}))}function f(e,n){n&&(e.newEvents="",n.forEach(((n,a)=>{[...n.attributes].forEach((i=>function(e,n,a,i){let o=n.name;if(o.indexOf(t)>-1){if(o.indexOf("-custom-")>-1&&(o=o.replace("custom-","")),o.indexOf("data-bay-style")>-1)a.style!==n.value&&(a.style=n.value);else{const s=n.value.replaceAll("window.bay","$bay");-1===e.newEvents.indexOf("$bay.events=new Map();\n")&&(e.newEvents+="$bay.events=new Map();\n"),e.newEvents+=`$bay.events.set('${o}-${i}',function(e){${s}});\n`;const r=t=>{window.bay[e.uniqid].events&&window.bay[e.uniqid].events.get(`${o}-${i}`)(t)},d=`${e.uniqid}${i}${o}`,l=o.split(t)[1];e.eventHandlers.has(d)&&(a.removeEventListener(l,e.eventHandlers.get(d)),e.eventHandlers.delete(d)),e.eventHandlers.set(d,r),a.addEventListener(l,e.eventHandlers.get(d))}}}(e,i,n,a)))})),e.newEvents&&e.oldEvents!==e.newEvents&&(e.oldEvents=e.newEvents,function(e,t){__awaiter(this,void 0,void 0,(function*(){const n=URL.createObjectURL(new Blob([`export default ()=>{"use strict";\n${e.evt_prefixes.join("")}${t}};`],{type:"text/javascript"}));(yield import(n)).default(),URL.revokeObjectURL(n)}))}(e,e.newEvents)))}function $(e){e.debouncer&&window.cancelAnimationFrame(e.debouncer),e.debouncer=window.requestAnimationFrame((()=>{e.render()}))}function v(t){t.dsd||(t.tmp=window.bay[t.uniqid].template(),t.shadowDom.getElementById("bay").innerHTML=t.tmp),$(t),t.CSP?t.shadowDom.innerHTML="CSP issue, add blob: to script-src & style-src whitelist.":e(t.shadowDom,"[bay]")[0]&&y(t.shadowDom)}function g(e){return(new DOMParser).parseFromString(e,"text/html").body}function E(e){return 3===e.nodeType?"text":8===e.nodeType?"comment":e.tagName.toLowerCase()}function _(e){return e.childNodes&&e.childNodes.length>0?null:e.textContent}function L(e,t){const n=[...t.childNodes],a=[...e.childNodes];let i=n.length-a.length;if(i>0)for(;i>0;i--)n[n.length-i].parentNode.removeChild(n[n.length-i]);a.forEach(((e,a)=>{if(!n[a])return void t.appendChild(e.cloneNode(!0));if(E(e)!==E(n[a])){try{n[a].parentNode.replaceChild(e.cloneNode(!0),n[a])}catch(e){}return}const i=_(e);if(i&&i!==_(n[a])&&(n[a].textContent=i),n[a].childNodes.length>0&&e.childNodes.length<1)n[a].innerHTML="";else{if(n[a].childNodes.length<1&&e.childNodes.length>0){const t=document.createDocumentFragment();return L(e,t),void n[a].appendChild(t)}e.childNodes.length>0&&L(e,n[a])}}))}function x(e,t){return void 0!==e[t]&&"object"!=typeof e[t]}function A(t,n,a,i,s){let c="",u=null,w="",E=[],_=!1,x=!1,A=!1,M=!1,H=!1;try{i="*:not(:defined){opacity:0;max-width:0px;max-height:0px}*:not(:defined)*{opacity:0;max-width:0px;max-height:0px}.bay-hide{display:none}"+(i||""),u=t.body,c=n;const o=document.createElement(`${n}-update`);u.appendChild(o),(u.innerHTML.indexOf("$global.")>-1||u.innerHTML.indexOf("$global[")>-1)&&(_=!0),(u.innerHTML.indexOf("$route.")>-1||u.innerHTML.indexOf("$route[")>-1||u.innerHTML.indexOf("</router>")>-1||u.innerHTML.indexOf("</route>")>-1||u.innerHTML.indexOf("$bay.update_route")>-1)&&(x=!0),u.innerHTML.indexOf("</route>")>-1&&(i=(i||"")+"[bay-route]>*{pointer-events:none}"),u.innerHTML.indexOf("$bay.on(")>-1&&(H=!0),u.innerHTML.indexOf("</show>")>-1&&bay.create(`show-${p}`,"<div id=\"show\" :style=\"${this.style()}\"><slot></slot></div><script update>$bay.getElementById('show').ontransitionend=()=>this.end();<\/script><script props>this.slide(this.open);<\/script><script mounted>this.slide(this.open);<\/script><script>this.opacity=0;this.display='none';this.slide=(open)=>{let opacity=0;if(open==='true'){opacity=1;this.display='block';};requestAnimationFrame(()=>{this.opacity=opacity;});};this.end=()=>{if(this.open==='false'){this.display='none';}};this.style=()=>{return `display:${this.display};opacity:${this.opacity};transition:opacity ${this.transition || '0s'};`;};<\/script>",["open","transition"]);const s="element, index, array";let r="";const d=(t,n)=>{if(!e(t,n)[0]){const a=t.getAttribute("array")||[],i=t.getAttribute("params")||s,o=t.getAttribute("join")||"",d=t.getAttribute("duration")||!1,l=[...t.attributes][0]?[...t.attributes][0].nodeValue:"",c=t.nextElementSibling?t.nextElementSibling.tagName.toLowerCase():"";let h="`}return ''})()}";const y=t.hasAttribute("break")?"break;":"",w=0===t.innerHTML.length,m=t.attributes.length?t.attributes[0].name:"",f=`<${n}>`,$=`</${n}>`,v=[...t.attributes];!function(e){for(;e.attributes.length>0;)e.removeAttribute(e.attributes[0].name)}(t);let g=t.outerHTML;const E=(e,n)=>{t.outerHTML=g.replace(f,e).replace($,n)};switch(n){case"dsd":t.remove();break;case"noscript":u.innerHTML=u.innerHTML.replaceAll(f,"").replaceAll($,"");break;case"map":E(`\${ ${a}.${n}((${i})=>{return \``,`\`}).join('${o}')}`);break;case"for":const s=`bay_${n}_${b(8)}`;a.length?E(`\${(()=>{let ${s}='';${a}.forEach((${i})=>{${s}+=\``,`\`});return ${s};})()}`):E(`\${(()=>{let ${s}=''; ${n} (${l}) { ${s} += \``,`\`};return ${s};})() }`);break;case"if":"else-if"!==c&&"else"!==c||(h="`}"),E(`\${(()=>{ ${n} (${l}) {return \``,h);break;case"else-if":"else-if"!==c&&"else"!==c||(h="`}"),E(` else if (${l}) {return \``,h);break;case"else":E(` ${n} {return \``,h);break;case"show":d?E(`<show-${p} class="bay-show" open="\${${l}}" transition="${d} ease-in-out">`,`</show-${p}>`):E(`<div class="\${(${l})?'bay-show':'bay-show bay-hide'}">`,"</div>");break;case"switch":E(`\${(()=>{ ${n} (${l}) { `," };return ''})() }");break;case"case":w?E(`${n} ${l}:`," "+y):E(`${n} ${l}: return \``,"`; "+y);break;case"default":E(`${n}: return \``,"`;");break;case"inner-html":A=!0,E("${ (()=>{$bay_inner_html+=`","`;return ''})()}"),t.remove();break;case"route":let _="";v.forEach((e=>{_+=` ${e.name}="${e.value}"`})),E(`<a bay-route :click="e.preventDefault();history.pushState({},'',e.target.getAttribute('href'));window.bay.update_route();"${_}>`,"</a>");break;case"router":E(`\${(()=>{let $path=window.bay.router(window.bay.route.path,'${l}');if($path){return \``,h);break;case"script":switch(m){case"update":E("${/*update*/(()=>{setTimeout(()=>{","}, 0);return ``})()}");break;case"props":E("${/*props updates*/(()=>{$props=()=>{","};return ``})()}");break;case"render":E("${/*render*/(()=>{","})()}");break;case"slotchange":E("${/*slotchange updates*/(()=>{$slotchange=(e)=>{$details=e.detail;\n","};return ``})()}");break;case"mounted":r+=`$bay['$mounted']=()=>{${t.innerText}};`,t.remove();break;default:const a=e(u,n)[0];r+=a.innerText,t.remove();break}t&&t.parentNode&&(t.outerHTML=g,t.remove());break}}};["dsd","noscript","map","for","if","else-if","else","show","switch","case","default","inner-html","route","router","script"].forEach((t=>{for(;[...e(u,t)].length>0;){[...e(u,t)].forEach((e=>d(e,t)))}})),[...e(u,"*")].forEach((e=>{[...e.attributes].forEach((t=>{const n="bind"===t.name,a="custom:"===t.name.substring(0,7),i="input"===e.tagName.toLowerCase(),o="textarea"===e.tagName.toLowerCase();if(":"===t.name.substring(0,1)||a){let n="";a&&(n="custom-"),e.setAttribute(`data-bay-${n}${t.name.split(":")[1]}`,t.value),e.removeAttribute(t.name)}else n&&"select"===e.tagName.toLowerCase()?(e.setAttribute(`data-bay-custom-select-${p}`,`$bay_select_bind(e, ${t.value})`),e.hasAttribute("multiple")&&e.setAttribute("multiple","true"),e.removeAttribute(t.name),e.innerHTML=`\${${t.value}.map((item)=>{return \`&lt;option \${(()=>{return Object.entries(item).map((o)=> \`\${o[0]}="\${o[1]}"\` ).join(' ')})()}>\${item.text}&lt;/option>\`}).join('')}`,M=!0):n&&(i||o)?(e.setAttribute("data-bay-input",`${t.value} = e.target.value`),e.removeAttribute(t.name),e.setAttribute("value",`\${${t.value}}`)):"bind:"===t.name.substring(0,5)&&(i||o)&&(e.setAttribute(`data-bay-${t.name.split(":")[1]}`,`${t.value} = e.target.value`),e.removeAttribute(t.name),e.setAttribute("value",`\${${t.value}}`))}))})),M&&(window.bay.apply_select=(e,t)=>{[...e.target.options].forEach(((e,n)=>{t[n].selected?(e.selected=!0,e.setAttribute("selected","true")):(e.selected=!1,e.removeAttribute("selected"))})),e.target.onchange=e=>{[...e.target.options].forEach(((e,n)=>{e.selected?t[n].selected=!0:t[n].selected=!1}))}}),w=r,E=a}catch(e){}if(c){class t extends HTMLElement{constructor(){super(),this.mounted=!1,this.tmp=`${u.innerHTML}`,this.uniqid=b(8),this.CSP=!1,this.dsd=!1,this.debouncer=!1,this.prefixes=[],this.evt_prefixes=[],this.eventHandlers=new Map;const t=this.getAttribute("inner-html");if(t?e(document,t)[0]&&(this.inner_el=e(document,t)[0]):this.inner_el=this,document.addEventListener("securitypolicyviolation",(e=>{e.preventDefault(),(e.violatedDirective.indexOf("script-src")>-1||e.violatedDirective.indexOf("style-src")>-1)&&"blob"===e.blockedURI&&(this.CSP=!0)})),this.shadowRoot){this.shadowDom=this.shadowRoot;const e=document.createElement("div");e.id="bay",[...this.shadowDom.children].map((t=>e.appendChild(t))),this.shadowRoot.appendChild(e),this.dsd=!0}else{this.attachShadow({mode:"open"}),this.shadowDom=this.shadowRoot;let e=document.createElement("template");e.innerHTML='<div id="bay"></div>',this.shadowDom.appendChild(e.content.cloneNode(!0))}this.shadowDom.proxy=l({},(()=>{$(this)})),this.shadowRootHTML=e(this.shadowDom,"#bay")[0],window.bay[this.uniqid]=this.shadowDom,[...a].forEach((e=>{this.shadowDom.proxy[e.att]=e.value})),window.bay[this.uniqid].$el=this,this.oldEvents="",w||(w="/* No script tag found */"),this.shadowDom.uniqid=this.uniqid;const c=this.getRootNode();let p="",y="",m="";c.host&&(p="const $parent=window.bay[parent_uniqid]['proxy'];\n",y=`const $parent=window.bay['${c.host.uniqid}']['proxy'];\n`,m=c.host.uniqid);const f=`const $bay=window.bay['${this.uniqid}'];\n`,g="const $global=window.bay.global;\n",E="const $route=window.bay.route;\n",_="const $el=$bay['$el'];\n";this.update_evt=new CustomEvent(`bay_local_update_event_${this.uniqid}`);let L="";this.tmp.indexOf("/*props updates*/")>-1&&(L="let $props;\nwindow.addEventListener(`bay_local_update_event_${bay_uniqid}`,()=>$props());\n");this.tmp.indexOf("/*slotchange updates*/")>-1&&(L="let $slotchange=()=>{};\nlet $details={'element':'','changed':''};\nwindow.addEventListener(`bay_slotchange_event_${bay_uniqid}`,(e)=>$slotchange(e));\n"),window.bay.decode=d;const T="$bay.decode=window.bay.decode;\n";window.bay.encode=r;const C="$bay.encode=window.bay.encode;\n";window.bay.update_route=h;let k="";x&&(k="$bay.update_route=window.bay.update_route;\n"),window.bay[this.uniqid].addEventListener("slotchange",(e=>{this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e.target,changed:"slotchange"}}),window.dispatchEvent(this.local_evt)})),e(this,"*").forEach((e=>{new MutationObserver((t=>{t.forEach((t=>{"attributes"===t.type?(this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e,changed:"attributes"}}),window.dispatchEvent(this.local_evt)):"childList"===t.type&&(this.local_evt=new CustomEvent(`bay_slotchange_event_${this.uniqid}`,{detail:{element:e,changed:"childList"}}),window.dispatchEvent(this.local_evt))}))})).observe(e,{attributes:!0,childList:!0})}));let q="",N="",O="";A&&(q="let $bay_inner_html='';\n",N=" $bay_inner_html=''; ",O="\n$bay.inner_html=()=>{return $bay_inner_html;};");let S="";M&&(S="const $bay_select_bind=window.bay.apply_select;\n");let R="";H&&(R="$bay.on=(name,callback)=>{window.addEventListener(name,e=>callback(e));};\n");let D=`$bay.emit=window.bay.emit;\n$bay.receive=window.bay.receive;\n${R}function bay_receive_fn(e){$bay.receive($bay,$el,e.detail.name,e.detail.data);}\nwindow.removeEventListener('bay_emit',bay_receive_fn);\nwindow.addEventListener('bay_emit',bay_receive_fn);\n`;this.prefixes=["const $bay=window.bay[bay_uniqid];\n",g,E,_,p,q,C,T,L,"",k,D],this.evt_prefixes=[f,g,E,_,y,C,T,k,S];const j=this.prefixes.join("")+d(w).replaceAll("this[","$bay.proxy[").replaceAll("this.","$bay.proxy.").replace(/(^[ \t]*\n)/gm,""),U=d(this.tmp).replaceAll("this[","$bay.proxy[").replaceAll("this.","$bay.proxy.").replace(/(^[ \t]*\n)/gm,"");let P="";if(i&&(P=d(i).replaceAll('"${',"${").replaceAll("'${","${").replaceAll('}"',"}").replaceAll("}'","}").replaceAll("this[","$bay.proxy[").replaceAll("this.","$bay.proxy.").replaceAll("  ","").replaceAll("\n","")),function(e,t,n,a,i){__awaiter(this,void 0,void 0,(function*(){if(o.has(n))yield import(o.get(n)).then((t=>{t.default(e.uniqid,i),v(e)}));else{const s=URL.createObjectURL(new Blob([`export default (bay_uniqid,parent_uniqid)=>{"use strict";\n${a}};`],{type:"text/javascript"}));o.set(n,s),yield import(s).then((n=>{n.default(e.uniqid,i),v(e),t&&URL.revokeObjectURL(s)}))}}))}(this,s,n,`${j}\n$bay.template=()=>{${N}return \`${U}\`;};\n$bay.styles=()=>{return \`${P}\`;};${O}`,m),this.hasAdopted=!1,"adoptedStyleSheets"in document&&(this.hasAdopted=!0),this.hasAdopted)this.sheet=new CSSStyleSheet,this.sheet.replaceSync(P),this.shadowDom.adoptedStyleSheets=[this.sheet];else{const e=new Blob([P],{type:"text/css"}),t=URL.createObjectURL(e),n=document.createElement("link");n.rel="stylesheet",n.href=t,this.shadowDom.appendChild(n),n.id="bay-style";const a=document.createElement("link");a.id="bay-style-update",a.href=t,a.rel="stylesheet",this.shadowDom.appendChild(a),this.styleLinkUpdate=a}}render(){if(this.CSP)this.shadowDom.innerHTML="";else if(this.tmp&&this.shadowRootHTML.innerHTML&&"function"==typeof window.bay[this.uniqid].template)try{if(A&&function(t,n){if(!n)return;if("function"!=typeof window.bay[t].inner_html)return;window.bay[t].template();const a=g(window.bay[t].inner_html());L(a,n),m([...e(a,"*")],[...e(n,"*")])}(this.uniqid,this.inner_el),function(t,n){const a=g(window.bay[t].template());L(a,n),m([...e(a,"*")],[...e(n,"*")])}(this.uniqid,this.shadowRootHTML),f(this,A?[...e(this.inner_el,"*"),...e(this.shadowRootHTML,"*")]:[...e(this.shadowRootHTML,"*")]),function(e){const t=window.bay[e.uniqid].styles();if(e.oldStyles!==t)if(e.oldStyles=t,e.hasAdopted)e.sheet.replaceSync(t);else{const n=new Blob([t],{type:"text/css"}),a=URL.createObjectURL(n);e.styleLinkUpdate.href=a,URL.revokeObjectURL(a)}}(this),M){const t=`[data-bay-custom-select-${p}]`;let n=[];n=A?[...e(this.inner_el,t),...e(this.shadowRootHTML,t)]:[...e(this.shadowRootHTML,t)],n.forEach((e=>{e.dispatchEvent(new CustomEvent(`select-${p}`))}))}!1===this.mounted&&window.bay[this.uniqid].$mounted&&(this.mounted=!0,setTimeout((()=>{window.bay[this.uniqid].$mounted()}),14)),e(this.shadowDom,"[bay]")[0]&&y(this.shadowDom),this.hasAttribute("fouc")&&this.removeAttribute("fouc")}catch(e){}}connectedCallback(){try{_&&window.addEventListener("bay_global_event",(e=>{$(this)})),x&&window.addEventListener("bay_route_event",(e=>{$(this)}))}catch(e){}}static get observedAttributes(){return E}attributeChangedCallback(e,t,n){t!==n&&(this.shadowDom.proxy[e]=n,window.dispatchEvent(this.update_evt))}}customElements.define(c,t)}}window.addEventListener("load",(()=>{y(document)})),bay.refresh=()=>{y(document)},window.bay.refresh=bay.refresh,bay.create=function(e,t,n){const a=new DOMParser,i=n||[];let o="";t.indexOf("<style>")>-1&&(o=t.split("<style>")[1].split("</style>")[0]),t=t.replaceAll(/<!--[\s\S]*?-->/g,"").replaceAll(`<style>${o}</style>`,"");let s=a.parseFromString(t,"text/html");s&&(customElements.get(e.toLowerCase())||A(s,e.toLowerCase(),i,o,!0))},window.bay.create=bay.create};bay();